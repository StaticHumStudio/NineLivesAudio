<Window
    x:Class="NineLivesAudio.Views.MiniPlayerWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Nine Lives Audio">

    <Grid Background="{StaticResource VoidDeepBrush}" Padding="16,8">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Top Bar: Pin + Expand -->
        <Grid Grid.Row="0" Margin="0,0,0,4">
            <ToggleButton x:Name="PinToggle"
                          Click="PinToggle_Click"
                          HorizontalAlignment="Left"
                          Background="Transparent" BorderThickness="0"
                          Padding="6"
                          ToolTipService.ToolTip="Keep on top">
                <FontIcon x:Name="PinIcon" Glyph="&#xE718;" FontSize="14"
                          Foreground="{StaticResource MistFaintBrush}"/>
            </ToggleButton>

            <Button Click="Expand_Click"
                    HorizontalAlignment="Right"
                    Background="Transparent" BorderThickness="0"
                    Padding="6"
                    ToolTipService.ToolTip="Back to full player">
                <FontIcon Glyph="&#xE740;" FontSize="14"
                          Foreground="{StaticResource MistFaintBrush}"/>
            </Button>
        </Grid>

        <!-- Progress Section -->
        <Grid Grid.Row="1" Margin="0,0,0,4">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Slider x:Name="ProgressSlider"
                    Grid.Row="0"
                    Minimum="0"
                    Maximum="100"
                    ValueChanged="ProgressSlider_ValueChanged"/>

            <Grid Grid.Row="1" Margin="0,2,0,0">
                <TextBlock x:Name="CurrentTimeText"
                           Style="{StaticResource CaptionStyle}"
                           HorizontalAlignment="Left"
                           Text="0:00:00"/>
                <TextBlock x:Name="RemainingTimeText"
                           Style="{StaticResource CaptionStyle}"
                           HorizontalAlignment="Right"
                           Text="-0:00:00"/>
            </Grid>
        </Grid>

        <!-- Transport Controls -->
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Spacing="12"
                    Margin="0,4,0,8">

            <!-- Skip Back 10s -->
            <Button Click="SkipBack_Click"
                    Style="{StaticResource CircularButtonStyle}"
                    ToolTipService.ToolTip="Skip back 10 seconds">
                <StackPanel>
                    <FontIcon Glyph="&#xE892;" FontSize="18"/>
                    <TextBlock Text="10" FontSize="10" HorizontalAlignment="Center" Opacity="0.7"/>
                </StackPanel>
            </Button>

            <!-- Play/Pause -->
            <Button x:Name="PlayPauseButton"
                    Click="PlayPause_Click"
                    Style="{StaticResource SigilPlayButtonStyle}">
                <FontIcon x:Name="PlayPauseIcon" Glyph="&#xE768;" FontSize="28"
                          Foreground="{StaticResource VoidDeepBrush}"/>
            </Button>

            <!-- Skip Forward 30s -->
            <Button Click="SkipForward_Click"
                    Style="{StaticResource CircularButtonStyle}"
                    ToolTipService.ToolTip="Skip forward 30 seconds">
                <StackPanel>
                    <FontIcon Glyph="&#xE893;" FontSize="18"/>
                    <TextBlock Text="30" FontSize="10" HorizontalAlignment="Center" Opacity="0.7"/>
                </StackPanel>
            </Button>
        </StackPanel>
    </Grid>
</Window>
