<UserControl
    x:Class="NineLivesAudio.Controls.BookCard"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
          CornerRadius="8"
          Padding="8"
          PointerPressed="Grid_PointerPressed"
          PointerEntered="Grid_PointerEntered"
          PointerExited="Grid_PointerExited">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Cover Image -->
        <Border Grid.Row="0"
                CornerRadius="4"
                Background="{ThemeResource SystemControlBackgroundBaseLowBrush}">
            <Image x:Name="CoverImage"
                   Stretch="UniformToFill"/>
        </Border>

        <!-- Hover Overlay with Play Button -->
        <Border x:Name="HoverOverlay"
                Grid.Row="0"
                CornerRadius="4"
                Background="#80000000"
                Opacity="0">
            <Button x:Name="PlayButton"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Width="56"
                    Height="56"
                    CornerRadius="28"
                    Style="{ThemeResource AccentButtonStyle}"
                    Click="PlayButton_Click">
                <FontIcon Glyph="&#xE768;" FontSize="24"/>
            </Button>
        </Border>

        <!-- Downloaded Indicator -->
        <Border x:Name="DownloadedBadge"
                Grid.Row="0"
                HorizontalAlignment="Right"
                VerticalAlignment="Top"
                Margin="4"
                Padding="4"
                Background="{ThemeResource SystemAccentColor}"
                CornerRadius="4"
                Visibility="Collapsed">
            <FontIcon Glyph="&#xE73E;" FontSize="12" Foreground="White"/>
        </Border>

        <!-- Title -->
        <TextBlock x:Name="TitleText"
                   Grid.Row="1"
                   FontWeight="SemiBold"
                   TextTrimming="CharacterEllipsis"
                   MaxLines="2"
                   TextWrapping="Wrap"
                   Margin="0,8,0,4"/>

        <!-- Author -->
        <TextBlock x:Name="AuthorText"
                   Grid.Row="2"
                   Opacity="0.7"
                   FontSize="12"
                   TextTrimming="CharacterEllipsis"/>

        <!-- Progress -->
        <ProgressBar x:Name="ProgressBar"
                     Grid.Row="3"
                     Value="0"
                     Maximum="100"
                     Margin="0,8,0,0"
                     Visibility="Collapsed"/>
    </Grid>
</UserControl>
